{
  "id": "urn:ngsi-ld:plan:55761it5-3d4q-2321-p009-44bro198re0q",
  "name": "DOME Cloud Service Provider Subscription plan for 2025",
  "description": "DOME Cloud Service Provider Subscription plan for 2025",
  "validFor": {
    "startDateTime": "2025-01-01T00:00:00Z",
    "endDateTime": "2025-12-31T23:59:59Z"
  },
  "lifecycleStatus": "launched",
  "billCycleSpecification": {
    "billingPeriodLength": "1",
    "billingPeriodType": "MONTH",
    "billingPeriodEnd": "LAST_DAY_OF_CALENDAR_MONTH",
    "billingDateShift": "5",
    "paymentDueDateOffset": "45"
  },
  "subscriptionDurationLength": 12,
  "subscriptionDurationPeriodType": "MONTH",
  "agreements": [],
  "price": {
    "name": "Price components for ${subscription.name}",
    "isBundle": true,
    "currency": "EUR",
    "bundleOp": "CUMULATIVE",
    "prices": [
      {
        "name": "Initial Fee",
        "type": "RECURRING_PREPAID",
        "recurringChargePeriodLength": 1,
        "recurringChargePeriodType": "YEAR",
        "amount": 8000,
        "currency": "EUR",
        "ignore": "'${subscription.characteristics.marketplaceSubscription}'=='true'",
        "discount": {
          "name": "Discount based on previous subscription period's sales (€ ${applicablevalue})",
          "isBundle": true,
          "bundleOp": "ALTERNATIVE_HIGHER",
          "applicableBaseReferencePeriod": "PREVIOUS_SUBSCRIPTION_PERIOD",
          "applicableBase": "bills-no-taxes",
          "computationBase": "parent-price",
          "discounts": [
            {
              "name": "No discunt for previous-period transactions under 100k",
              "applicableBaseRange": {
                "min": 0,
                "max": 100000
              },
              "computationBase": "parent-price",
              "percent": 0
            },
            {
              "name": "15% discount for previous-period transactions between 100k and 250k",
              "applicableBaseRange": {
                "min": 100001,
                "max": 250000
              },
              "computationBase": "parent-price",
              "percent": 15
            },
            {
              "name": "30% discount for previous-period transactions between 250k and 750k",
              "applicableBaseRange": {
                "min": 250001,
                "max": 750000
              },
              "computationBase": "parent-price",
              "percent": 30
            },
            {
              "name": "50% discount for previous-period transctions between 750k and 1M",
              "applicableBaseRange": {
                "min": 750001,
                "max": 1000000
              },
              "computationBase": "parent-price",
              "percent": 50
            },
            {
              "name": "80% discount for previous-period transctions over 1M",
              "applicableBaseRange": {
                "min": 1000001
              },
              "computationBase": "parent-price",
              "percent": 80
            }
          ]
        }
      },
      {
        "name": "(FM) Revenue sharing based on transactions of sub-sellers",
        "recurringChargePeriodType": "MONTH",
        "recurringChargePeriodLength": 1,
        "type": "RECURRING_POSTPAID",
        "ignore": "'${subscription.characteristics.marketplaceSubscription}'!='true'",
        "isBundle": true,
        "collapse": false,
        "bundleOp": "FOREACH",
        "skipIfZero": false,
        "forEachMetric": "activeSellersIncludedMarketplace",
        "prices": [
          {
            "name": "Shares on €${computationbase} of transactions between ${period.startdate} and ${period.enddate}",
            "applicableBase": "bills-no-taxes",
            "applicableBaseReferencePeriod": "LAST_9_CHARGE_PERIODS",
            "computationBaseReferencePeriod": "CURRENT_CHARGE_PERIOD",
            "computationBase": "bills-no-taxes",
            "currency": "EUR",
            "ignore": false,
            "isBundle": true,
            "bundleOp": "CUMULATIVE",
            "prices": [
              {
                "name": "1% revenue sharing on trasaction volume",
                "computationBase": "bills-no-taxes",
                "percent": 1,
                "skipIfZero": true
              }
            ]
          }
        ]
      },
      {
        "name": "(CSP) Revenue sharing based on transactions (€${computationbase}) between ${period.startdate} and ${period.enddate}",
        "applicableBase": "bills-no-taxes",
        "applicableBaseReferencePeriod": "LAST_9_CHARGE_PERIODS",
        "computationBaseReferencePeriod": "CURRENT_CHARGE_PERIOD",
        "computationBase": "bills-no-taxes",
        "currency": "EUR",
        "isBundle": true,
        "bundleOp": "CUMULATIVE",
        "recurringChargePeriodType": "MONTH",
        "recurringChargePeriodLength": 1,
        "collapse": false,
        "skipIfZero": false,
        "type": "RECURRING_POSTPAID",
        "ignore": "'${subscription.characteristics.marketplaceSubscription}'=='true'",
        "prices": [
          {
            "name": "Tier 0: no revenue sharing for transactions below 100K",
            "amount": 0,
            "skipIfZero": false
          },
          {
            "name": "Tier 1: 4% revenue sharing in the range 100-200K",
            "computationBase": "bills-no-taxes",
            "percent": 4,
            "discount": {
              "comment": "this is the 'min' of the tier x tier percentage",
              "amount": 4000
            },
            "resultingAmountRange": {
              "comment": "min is always zero. Max is the tier width x tier percentage (i.e. the max revenue for the tier window)",
              "min": 0,
              "max": 4000
            },
            "collapse": true,
            "skipIfZero": true
          },
          {
            "name": "Tier 2: 3% revenue sharing in the range 200-500k",
            "percent": 3,
            "discount": {
              "name": "removing the lower part",
              "comment": "this is the 'min' of the tier x tier percentage",
              "amount": 6000
            },
            "resultingAmountRange": {
              "comment": "min is always zero. Max is the tier width x tier percentage (i.e. the max revenue for the tier window)",
              "min": 0,
              "max": 9000
            },
            "collapse": true,
            "skipIfZero": true
          },
          {
            "name": "Tier 3: 2% revenue sharing in the range 500-800k",
            "percent": 2,
            "discount": {
              "name": "removing the lower part",
              "comment": "this is the 'min' of the tier x tier percentage",
              "amount": 10000
            },
            "resultingAmountRange": {
              "comment": "min is always zero. Max is the tier width x tier percentage (i.e. the max revenue for the tier window)",
              "min": 0,
              "max": 6000
            },
            "collapse": true,
            "skipIfZero": true
          },
          {
            "name": "Tier 4: 1% revenue sharing for transactions above 800k",
            "percent": 1,
            "discount": {
              "name": "removing the lower part",
              "comment": "this is the 'min' of the tier x tier percentage",
              "amount": 8000
            },
            "resultingAmountRange": {
              "comment": "min is always zero. Max is the tier width x tier percentage (i.e. the max revenue for the tier window)",
              "min": 0
            },
            "collapse": true,
            "skipIfZero": true
          }
        ]
      }
    ]
  }
}